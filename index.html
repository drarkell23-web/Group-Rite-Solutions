<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Group Rite Solutions | Master Engineering KZN</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;700;800&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Plus Jakarta Sans', sans-serif; }
        .emergency-pulse { animation: pulse 2s infinite; }
        @keyframes pulse { 0% { box-shadow: 0 0 0 0 rgba(220, 38, 38, 0.7); } 70% { box-shadow: 0 0 0 15px rgba(220, 38, 38, 0); } 100% { box-shadow: 0 0 0 0 rgba(220, 38, 38, 0); } }
        .gradient-blue { background: linear-gradient(135deg, #0f172a 0%, #1e40af 100%); }
    </style>
</head>
<body class="antialiased text-slate-900">
    <nav class="sticky top-0 w-full z-50 bg-white/90 backdrop-blur-md border-b border-slate-200 px-8 py-4 flex justify-between items-center">
        <img src="logo.png" alt="Group Rite" class="h-12 w-auto">
        <a href="#dispatch" class="emergency-pulse bg-red-600 text-white px-6 py-2 rounded-full font-black text-[10px] uppercase tracking-widest">24/7 Rapid Dispatch</a>
    </nav>

    <header class="pt-20 pb-20 px-8 max-w-7xl mx-auto">
        <h1 class="text-6xl md:text-8xl font-[900] uppercase tracking-tighter leading-none mb-6">One Group.<br><span class="text-blue-600 italic">Total Solve.</span></h1>
        <p class="text-slate-500 text-lg max-w-xl mb-10 font-medium">KZN's definitive engineering dispatch for Leak Detection, Fire Systems, and Utility Metering.</p>
        <a href="#dispatch" class="bg-slate-950 text-white px-10 py-5 rounded-2xl font-black uppercase tracking-widest hover:bg-blue-600 transition-all">Initialize Lead</a>
    </header>

    <section id="dispatch" class="py-20 px-6 gradient-blue">
        <div class="max-w-4xl mx-auto bg-white p-10 md:p-20 rounded-[3rem] shadow-2xl">
            <h2 class="text-4xl font-[900] uppercase text-center mb-12 italic">Technical <span class="text-blue-600">Dispatch.</span></h2>
            <form id="leadForm" class="space-y-6">
                <div class="grid md:grid-cols-2 gap-6">
                    <input type="text" id="name" placeholder="Full Name / Company" required class="w-full p-5 bg-slate-50 rounded-xl outline-none font-bold border">
                    <input type="tel" id="phone" placeholder="WhatsApp Number" required class="w-full p-5 bg-slate-50 rounded-xl outline-none font-bold border">
                </div>
                <input type="text" id="address" placeholder="Physical Property Address" required class="w-full p-5 bg-slate-50 rounded-xl outline-none font-bold border">
                <div class="grid md:grid-cols-2 gap-6">
                    <select id="service" class="w-full p-5 bg-slate-50 rounded-xl outline-none font-black text-blue-600 border">
                        <option>Leak Detection</option><option>Fire Services</option><option>Plumbing</option>
                        <option>Building & Civil</option><option>Maintenance</option><option>Waterproofing</option>
                        <option>Smart Metering</option><option>Electrical/COC</option>
                    </select>
                    <div class="flex items-center gap-4 p-4 bg-blue-50 rounded-xl border border-blue-100">
                        <input type="checkbox" id="is_subscription" class="w-5 h-5 accent-blue-600">
                        <label class="text-[9px] font-black text-blue-900 uppercase">Enquire about Meter Subscriptions</label>
                    </div>
                </div>
                <textarea id="details" required class="w-full p-6 bg-slate-50 rounded-2xl h-32 font-medium border" placeholder="Briefing..."></textarea>
                <button type="submit" id="submitBtn" class="w-full bg-slate-950 text-white font-black py-6 rounded-2xl uppercase tracking-widest text-lg hover:bg-blue-600 transition-all shadow-xl">Initialize Lead Dispatch</button>
            </form>
        </div>
    </section>

    <footer class="py-10 text-center text-[9px] font-black text-slate-400 uppercase tracking-widest">
        Group Rite Solutions (PTY) LTD | <a href="dashboard.html" class="hover:text-blue-600">Command Access</a>
    </footer>

    <script>
        const P1 = "8487737066"; const P2 = "AAFvi5uUgSziOlE-qRlif7lM_HHlzFGn74I";
        const TG_TOKEN = `${P1}:${P2}`; const CHAT_ID = "8187670531";

        document.getElementById('leadForm').onsubmit = async (e) => {
            e.preventDefault();
            const btn = document.getElementById('submitBtn');
            btn.innerText = "GROUP RITE SOLUTIONS CC WILL GET BACK TO YOU IN A MOMENT";
            btn.disabled = true;

            const lead = {
                id: Date.now(),
                name: document.getElementById('name').value,
                phone: document.getElementById('phone').value,
                address: document.getElementById('address').value,
                service: document.getElementById('service').value,
                sub: document.getElementById('is_subscription').checked,
                details: document.getElementById('details').value,
                timestamp: new Date().toISOString(),
                status: 'New'
            };

            const text = `üõ†Ô∏è <b>NEW DISPATCH</b>\nüë§ Client: ${lead.name}\nüìû Phone: ${lead.phone}\nüìç Address: ${lead.address}\nüîß Div: ${lead.service}\nüí≥ Sub: ${lead.sub ? 'YES' : 'NO'}`;

            try {
                await fetch(`https://api.telegram.org/bot${TG_TOKEN}/sendMessage`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ chat_id: CHAT_ID, text: text, parse_mode: 'HTML' })
                });

                let leads = JSON.parse(localStorage.getItem('grs_db')) || [];
                leads.push(lead);
                localStorage.setItem('grs_db', JSON.stringify(leads));

                confetti({ particleCount: 150, spread: 70, origin: { y: 0.6 } });
                setTimeout(() => location.reload(), 3000);
            } catch (err) { alert("Error connecting to dispatch satellite."); btn.disabled = false; }
        };
    </script>
</body>
</html>
